<?xml version='1.0' encoding='UTF-8'?>
<ui:composition xmlns:jsp="http://java.sun.com/JSP/Page"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://primefaces.org/ui"
				xmlns:c="http://java.sun.com/jsp/jstl/core" template="../CSMQ.xhtml">

	<ui:define name="page-content">
		<h:form id="f1">

			<!-- Extension for search purposes -->
			<h:panelGrid columns="2" style="width: 100% !important">
				<p:breadCrumb styleClass="breadcrumb">
					<p:menuitem value="Home" url="/index.xhtml" />
					<p:menuitem value="Administrator" />
				</p:breadCrumb>
			</h:panelGrid>

			<p:tabView id="pb1">
				<p:tab title="Create Codelist">

					<p:outputPanel style="text-align:center;" id="codelistForm">
						<h:panelGrid columns="2" columnClasses="label, value">

							<p:outputLabel value="Serial Number" styleClass="label-right" />
							<p:spinner style="float: left"
									   required="true" label="Serial #"
									   value="#{adminController.ref.serialNum}" min="1" />

							<p:outputLabel value="Codelist Name" styleClass="label-right" />
							<p:inputText label="Codelist name" maxlength="30" required="true"
										 value="#{adminController.ref.codelistConfigType}"
										 style="width: 300px !important;  float: left" />

							<p:outputLabel value="Codelist Value" styleClass="label-right" />
							<p:inputText label="Codelist Value" required="true"
										 value="#{adminController.ref.value}" maxlength="4"
										 style="width: 100px !important; float: left" />

							<p:outputLabel value="Codelist Internal Value" styleClass="label-right" />
							<p:inputText label="Code Internal Value" maxlength="30" required="true"
										 value="#{adminController.ref.codelistInternalValue}"
										 style="width: 300px !important; float: left" />

							<p:outputLabel value="Default flag" styleClass="label-right" />
							<p:selectOneMenu value="#{adminController.ref.defaultFlag}"
											 style="float: left" id="defaultFlagCode">
								<f:selectItem itemValue="N" itemLabel="N" />
								<f:selectItem itemValue="Y" itemLabel="Y" />
							</p:selectOneMenu>

							<p:outputLabel value="Active flag" styleClass="label-right" />
							<p:selectOneMenu value="#{adminController.ref.activeFlag}"
											 style="float: left" id="activeFlagCode">
								<f:selectItem itemValue="Y" itemLabel="Y" />
								<f:selectItem itemValue="N" itemLabel="N" />
							</p:selectOneMenu>
						</h:panelGrid>

						<h:panelGrid columns="2" cellpadding="5">
							<p:commandButton value="Save" icon="fa fa-plus">
								<p:ajax process="codelistForm" update="codelistForm msgAdmin" listener="#{adminController.addCodelist}" />
							</p:commandButton>
							<p:commandButton value="Cancel" icon="fa fa-close">

								<p:ajax process="codelistForm" update="codelistForm msgAdmin" listener="#{adminController.cancelCodelist}" />
							</p:commandButton>



							<!-- <p:commandButton value="Cancel" icon="fa fa-close" immediate="true"
											 update="codelistForm msgAdmin"
											 actionListener="#{adminController.cancelCodelist}"  /> -->
						</h:panelGrid>
					</p:outputPanel>
				</p:tab>
				<p:tab title="Update Codelist">
					<h:panelGrid columns="2">
						<p:outputLabel value="Codelist Type" />
						<p:selectOneMenu label="Codelist Type" value="#{adminController.codelist}">
							<f:selectItem itemValue="" itemLabel="" />
							<f:selectItems value="#{configMB.codelistTypes}" var="cl"
										   itemLabel="#{cl.codelistConfigType}" itemValue="#{cl.codelistConfigType}" />
							<!--
                                <f:selectItem itemLabel="EXTENSION" itemValue="LIST_EXTENSION_TYPES" />
                                <f:selectItem itemLabel="PROGRAM" itemValue="PROGRAM" />
                                <f:selectItem itemLabel="PROTOCOL" itemValue="PROTOCOL" />
                                <f:selectItem itemLabel="PRODUCT" itemValue="PRODUCT" />
                                <f:selectItem itemLabel="MEDDRA DICTIONARY" itemValue="MEDDRA_VERSIONS" />
                                <f:selectItem itemLabel="WORKFLOW STATE" itemValue="WORKFLOW_STATES" />
                                <f:selectItem itemLabel="USER GROUPS" itemValue="USER_GROUPS" />
                                <f:selectItem itemLabel="SYSTEM CONFIG" itemValue="SYSTEM_CONFIG" />
                                <f:selectItem itemLabel="CMQ RELATION IMPACT TYPE" itemValue="CMQ_RELATION_IMPACT_TYPE" />
                                <f:selectItem itemLabel="SMQ RELATION IMPACT TYPE" itemValue="SMQ_RELATION_IMPACT_TYPE" />
                                <f:selectItem itemLabel="MEDDRA DICTIONARY IMPACT TYPE" itemValue="MEDDRA_DICTIONARY_IMPACT_TYPE" />
                                <f:selectItem itemLabel="DICTIONARY CMQ LEVELS TYPE" itemValue="DICTIONARY_CMQ_LEVELS" />
                                <f:selectItem itemLabel="SMQ FILTER LEVELS TYPE" itemValue="SMQ_FILTER_LEVELS" />
                            -->


							<p:ajax update="tableAdmin" event="change" listener="#{adminController.switchCodelist}" />
						</p:selectOneMenu>
					</h:panelGrid>
					<p:spacer height="10" />

					<ui:fragment id="table" rendered="true">
						<ui:include src="adminTable.xhtml"></ui:include>
					</ui:fragment>

					<!--
					<ui:fragment rendered="#{adminController.codelist eq 'LIST_EXTENSION_TYPES'}">
						<ui:include src="extensionTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'PRODUCT'}">
						<ui:include src="productTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'PROGRAM'}">
						<ui:include src="programTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'PROTOCOL'}">
						<ui:include src="protocolsTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'MEDDRA_VERSIONS'}">
						<ui:include src="meddraTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'WORKFLOW_STATES'}">
						<ui:include src="workflowStateTable.xhtml"></ui:include>
					</ui:fragment>

                    <ui:fragment rendered="#{adminController.codelist eq 'USER_GROUPS'}">
						<ui:include src="usergroupTable.xhtml"></ui:include>
					</ui:fragment>

                    <ui:fragment rendered="#{adminController.codelist eq 'SYSTEM_CONFIG'}">
						<ui:include src="sysconfigTable.xhtml"></ui:include>
					</ui:fragment>

                    <ui:fragment rendered="#{adminController.codelist eq 'CMQ_RELATION_IMPACT_TYPE'}">
						<ui:include src="cmqRelImpTypeTable.xhtml"></ui:include>
					</ui:fragment>

                    <ui:fragment rendered="#{adminController.codelist eq 'SMQ_RELATION_IMPACT_TYPE'}">
						<ui:include src="smqRelImpTypeTable.xhtml"></ui:include>
					</ui:fragment>

                    <ui:fragment rendered="#{adminController.codelist eq 'MEDDRA_DICTIONARY_IMPACT_TYPE'}">
						<ui:include src="meddraDictImpTypeTable.xhtml"></ui:include>
					</ui:fragment>

					 <ui:fragment rendered="#{adminController.codelist eq 'DICTIONARY_CMQ_LEVELS'}">
						<ui:include src="dictionaryLevelTable.xhtml"></ui:include>
					</ui:fragment>

					<ui:fragment rendered="#{adminController.codelist eq 'SMQ_FILTER_LEVELS'}">
						<ui:include src="smqFilterLevelTable.xhtml"></ui:include>
					</ui:fragment>

					-->

				</p:tab>

				<p:tab title="Mappings">
					<p:panel style=" padding:5px;">
						<h3 style="text-align: center"></h3>
						<p:spacer height="10" />
					</p:panel>
				</p:tab>
			</p:tabView>
		</h:form>

		<style>
			.label-right {
				float: right;
				margin-right: 20px;
				font-size: 14px !important;
			}
		</style>
	</ui:define>
</ui:composition>