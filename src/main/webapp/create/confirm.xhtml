<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


	<p:panel header="Details" id="confirmPan">
		<h:panelGrid columns="4" cellpadding="30">

			<h:panelGrid columns="2" columnClasses="label, value">
				<p:outputLabel styleClass="label-right" value="Extension:" />
				<h:panelGrid>
					<h:outputText
						rendered="#{createController.selectedData.cmqTypeCd eq 'PRO'}"
						value="Protocol" />
					<h:outputText
						rendered="#{createController.selectedData.cmqTypeCd eq 'TR1'}"
						value="TIER1" />
					<h:outputText rendered="#{createController.selectedData.cmqTypeCd ne 'PRO' and createController.selectedData.cmqTypeCd ne 'TR1'}"
					value="#{createController.selectedData.cmqTypeCd}"  />
				</h:panelGrid>

				<p:outputLabel styleClass="label-right" value="Name:" />
				<h:outputText value="#{createController.selectedData.cmqName}" />

				<p:outputLabel styleClass="label-right" value="Drug Program:" />
				<h:outputText value="#{createController.selectedData.cmqProgramCd}" />

				<p:outputLabel styleClass="label-right" value="Protocol:" />
				<h:outputText value="#{createController.selectedData.cmqProtocolCd}" />

				<p:outputLabel styleClass="label-right" value="Product:" />
				<h:outputText value="#{createController.selectedData.cmqProductCd}" />

			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value"
				style="min-width: 300px;">
				<p:outputLabel styleClass="label-right" value="Level:" />
				<h:outputText value="#{createController.selectedData.cmqLevel}" />

				<p:outputLabel styleClass="label-right" value="Code:" />
				<h:outputText value="#{createController.selectedData.cmqCode}" />

				<p:outputLabel styleClass="label-right" value="Algorithm:" />
				<h:outputText value="#{createController.selectedData.cmqAlgorithm}" />

				<p:spacer />
				<p:spacer />

				<p:spacer />
				<p:spacer />
			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value"
				style="min-width: 300px;">

				<p:outputLabel styleClass="label-right" value="Status:" />
				<h:panelGrid>
					<h:outputText
						rendered="#{createController.selectedData.cmqStatus eq 'P'}"
						value="Pending" />
					<h:outputText
						rendered="#{createController.selectedData.cmqStatus eq 'I'}"
						value="Inactive" />
					<h:outputText
						rendered="#{createController.selectedData.cmqStatus eq 'A'}"
						value="Active" />
				</h:panelGrid>

				<p:outputLabel styleClass="label-right" value="State:" />
				<h:outputText value="#{createController.selectedData.cmqState}" />

				<p:outputLabel styleClass="label-right" value="Group:" />
				<h:outputText value="#{createController.selectedData.cmqGroup}" />

				<p:outputLabel styleClass="label-right" value="Designee:" />
				<h:outputText value="#{createController.selectedData.cmqDesignee}" />

				<p:spacer />
				<p:spacer />
			</h:panelGrid>


			<h:panelGrid columns="2" columnClasses="label, value"
				style="min-width: 300px;">

				<p:outputLabel styleClass="label-right" value="Create Date:" />
				<h:outputText value="#{createController.selectedData.creationDate}" />

				<p:outputLabel styleClass="label-right" value="Created By: " />
				<h:outputText value="#{createController.selectedData.createdBy}" />

				<p:outputLabel styleClass="label-right"
					value="Last Activation Date:" />
				<h:outputText
					value="#{createController.selectedData.activationDate}" />

				<p:outputLabel styleClass="label-right" value="Last Activation By" />
				<h:outputText value="#{createController.selectedData.activatedBy}" />

				<p:spacer />
				<p:spacer />
			</h:panelGrid>
		</h:panelGrid>

	</p:panel>
	<p:spacer height="10"></p:spacer>

	<p:panel header="Informative Notes">
		<h:panelGrid columns="1" cellpadding="30">
			<h:panelGrid columns="2" columnClasses="label, value">
				<h:panelGrid columns="2" columnClasses="label, value">
					<p:outputLabel styleClass="label-right" value="Description"
						style="width: 150px !important;" />
					<h:outputText
						value="#{createController.selectedData.cmqDescription}" />
				</h:panelGrid>
				<p:spacer height="20" />
				<h:panelGrid columns="2" columnClasses="label, value">
					<p:outputLabel styleClass="label-right" value="Source"
						style="width: 150px !important;" />
					<h:outputText value="#{createController.selectedData.cmqSource}" />
				</h:panelGrid>
				<p:spacer height="20" />
				<h:panelGrid columns="2" columnClasses="label, value">
					<p:outputLabel styleClass="label-right" value="Notes"
						style="width: 150px !important;" />
					<h:outputText value="#{createController.selectedData.cmqNote}" />
				</h:panelGrid>
			</h:panelGrid>
		</h:panelGrid>
	</p:panel>
	<p:spacer height="10"></p:spacer>

	<p:panel>
		<p:toolbar>
			<f:facet name="left">
				<p:outputLabel value="Workflow" />
			</f:facet>
			<f:facet name="right">
				<p:commandButton value="Reactivate" id="reactivateBtn"
					disabled="#{createController.reactivate}"
					action="#{createController.workflowState('Reactivate')}"
					process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval">
					<p:confirm header="Confirm Reactivate"
						message="Are you sure you want to reactivate this MedDRA Query?"
						icon="ui-icon-alert" />
				</p:commandButton>
				<p:commandButton value="Retire"
					disabled="#{createController.retire}" id="retireBtn"
					action="#{createController.workflowState('Retire')}"
					process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval">
					<p:confirm header="Confirm Retire"
						message="Are you sure you want to retire this MedDRA Query?"
						icon="ui-icon-alert" />
				</p:commandButton>

				<p:commandButton value="Demote to Draft" id="demoteBtn"
					disabled="#{createController.selectedData.cmqState eq 'Reviewed' ||  createController.selectedData.cmqState eq 'Approved' ? false : true}"
					action="#{createController.workflowState('Draft')}" process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval">
					<p:confirm header="Confirm Demote to Draft"
						message="Are you sure you want to demote this MedDRA Query to draft?"
						icon="ui-icon-alert" />
				</p:commandButton>

				<p:commandButton value="Reviewed" id="reviewedBtn"
					disabled="#{createController.reviewed}"
					action="#{createController.workflowState('Reviewed')}"
					process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval">
					<p:confirm header="Confirm Review"
						message="Are you sure you want to confirm this MedDRA Query as reviewed?"
						icon="ui-icon-alert" />
				</p:commandButton>

				<p:commandButton value="Approve" id="approveBtn"
					disabled="#{createController.selectedData.cmqState eq 'Reviewed' ? false : true}"
					action="#{createController.workflowState('Approved')}"
					process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval">
					<p:confirm header="Confirm Approve"
						message="Are you sure you want to approve this MedDRA Query?"
						icon="ui-icon-alert" />
				</p:commandButton>

				<p:commandButton value="Delete" id="deleteBtn"
					disabled="#{createController.delete}"
					action="#{createController.workflowState('Delete')}"
					process="@this"
					update="m1 @form:confirmPan retireBtn reviewedBtn demoteBtn approveBtn deleteBtn reactivateBtn reason_approval @form">
					<p:confirm header="Confirm Delete"
						message="Are you sure you want to delete this MedDRA Query?"
						icon="ui-icon-alert" />
				</p:commandButton>

			</f:facet>
		</p:toolbar>
		<table>
			<tbody>
				<tr>
					<td><p:outputLabel styleClass="label-right"
							value="Reason for Request" /></td>
					<td><p:inputText value="#{dummyView.value}" /></td>
				</tr>
				<tr>
					<td><p:outputLabel styleClass="label-right" value="Due Date" /></td>
					<td><p:calendar value="#{dummyView.value}" mode="popup"
							pattern="dd/MM/yyyy" /></td>
				</tr>
				<tr>
					<td><p:outputLabel styleClass="label-right"
							value="Reason for Approval" /></td>
					<td><p:inputText value="#{dummyView.value}"
							id="reason_approval"
							disabled="#{createController.selectedData.cmqState ne 'Reviewed'}" /></td>
				</tr>

			</tbody>
		</table>

		<!-- <p:spacer height="5" />
		<p:commandButton value="Save" icon="ui-icon-disk"
			action="#{createController.save}" process="@this"></p:commandButton> -->
		<p:spacer height="5" />
	</p:panel>

</ui:composition>
