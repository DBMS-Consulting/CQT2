AdfUIComponents.createComponentClass("AdfRichStatusIndicator",{componentType:"oracle.adf.RichStatusIndicator",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0}],superclass:AdfUIObject});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlStatusIndicatorPeer");
AdfDhtmlStatusIndicatorPeer.InitSubclass=function(){this.DTS_PROCESSING_ICON="af|statusIndicator::processing-icon";this.DTS_IDLE_ICON="af|statusIndicator::idle-icon";this.ADS_CONNECTING_ICON="af|statusIndicator::connecting-icon";this.ADS_CONNECTED_ICON="af|statusIndicator::connected-icon";this.ADS_DISCONNECTED_ICON="af|statusIndicator::disconnected-icon";this.ADS_RECONNECTING_ICON="af|statusIndicator::reconnecting-icon";this.ADS_ICONS=[];var a=AdfDhtmlPage.PushChannelStates;this.ADS_ICONS[a.CONNECTING]=
this.ADS_CONNECTING_ICON;this.ADS_ICONS[a.CONNECTED]=this.ADS_CONNECTED_ICON;this.ADS_ICONS[a.RECONNECTING]=this.ADS_RECONNECTING_ICON;this.ADS_ICONS[a.DISCONNECTED]=this.ADS_DISCONNECTED_ICON;this._serverBusy=!1};
AdfDhtmlStatusIndicatorPeer.prototype.InitDomElement=function(a,b){AdfAssert.assertDomElement(b);AdfDhtmlStatusIndicatorPeer.superclass.InitDomElement.call(this,a,b);this._updateIcon(b);AdfPage.PAGE.getDataTransferService().addStateChangeListener(this._stateChanged,a);var d=this;window.setTimeout(function(){AdfPage.PAGE.isActiveDataSupported()&&AdfPage.PAGE.getActiveDataSupport().addADSConnectionStateListener(d._stateChanged,a)},0)};
AdfDhtmlStatusIndicatorPeer.prototype.ComponentRemoved=function(a){AdfPage.PAGE.getDataTransferService().removeStateChangeListener(this._stateChanged,a);AdfPage.PAGE.isActiveDataSupported()&&AdfPage.PAGE.getActiveDataSupport().removeADSConnectionStateListener(this._stateChanged,a);AdfDhtmlStatusIndicatorPeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlStatusIndicatorPeer.prototype._stateChanged=function(a){a=this.getPeer();a.bind(this);var b=a.getDomElement();a._updateIcon(b);return!0};
AdfDhtmlStatusIndicatorPeer.prototype._updateIcon=function(a){var b;if(AdfPage.PAGE.getDataTransferService().getDTSState()!=AdfDataTransferService.STATE_READY)b=AdfDhtmlStatusIndicatorPeer.DTS_PROCESSING_ICON;else if(b=AdfDhtmlStatusIndicatorPeer.DTS_IDLE_ICON,AdfPage.PAGE.isActiveDataSupported()){var d=AdfPage.PAGE.getActiveDataSupport().getADSConnectionState();void 0!=d&&(b=AdfDhtmlStatusIndicatorPeer.ADS_ICONS[d])}AdfDomUtils.swapIcon(a.firstChild,b)};